---
// @ts-ignore
import Link from "../ui/link.astro";
import { Picture } from "astro:assets";

import { getLangFromUrl,useTranslation } from "i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslation(lang);

const portfolios = [
  {
    title: "Serenity",
    price: "port2.price1",
    description:
      "port2.description1",
    benefits: [
      "port2.rent1",
      "port2.return1",
      "port2.risk1",
      "port2.level",
    ],
    path: "#contact",
    link: "/portfolios/serenity"
  },
  {
    title: "Classic",
    price: "port2.price2",
    description:
      "port2.description2",
    benefits: [
      "port2.rent2",
      "port2.return2",
      "port2.risk2",
      "port2.level2",
    ],
    path: "#contact",
    link: "/portfolios/classic"
  },
  {
    title: "Grow",
    price: "port2.price3",
    description:
      "port2.description3",
    benefits: [
      "port2.rent3",
      "port2.return3",
      "port2.risk3",
      "port2.level3",
    ],
    path: "#contact",
    link: "/portfolios/grow"
  }
];
---

<div id="portfolios-anchor" style="position: relative; top: -100px; visibility: hidden; margin-top: 10%"></div>
<div id="portfolios" class="mt-16 md:mt-0 flex justify-center items-center lg:items-start flex-col fade-up">
  <p class="text-center lg:text-start text-4xl lg:text-5xl font-bold lg:tracking-tight">
    {t('port2.title')} <span class="text-center text-4xl lg:text-5xl font-normal lg:tracking-tight">{t('port2.title2')}</span>
  </p>
</div>

<div class="grid sm:grid-cols-2 md:grid-cols-3 gap-16 mt-14 flex justify-center">
  {portfolios.map((item) => (
    <div class="flex flex-col gap-4 items-start p-10 mx-auto bg-[#0E1B4D] text-white w-full rounded-3xl">
      <a href={item.link} target="_blank">
        <div class="flex justify-between items-center w-full">
          <div>
            <p class="mb-1 font-bold fade-up">{t('port.personalized')}</p>
            <h3 class="font-bold lg:text-5xl text-5xl mb-6 break-words word-break break-all whitespace-normal fade-up">{item.title}</h3>
            <p class="mb-6 fade-up">{t(item.description as 'port2.description1')}</p>
            <p class="fade-up">{t('port.minimum')}</p>
            <p class="font-bold text-4xl xl:text-4xl break-words word-break break-all whitespace-normal fade-up">{t(item.price as 'port2.price1')}</p>
          </div>
        </div>
        
        <ul class="mt-3 list-disc">
          {item.benefits.map((benefit) => (
            <p class="fade-up">{t(benefit as 'port.rent1')}</p>
          ))}
        </ul>
        
        <div class="mt-4 w-full flex justify-center fade-up items-end h-full">
            <Link
              class="inline-flex gap-1 bg-white hover:text-white items-center font-semibold justify-center rounded-full lg:w-[230px] py-0.1 text-black border border-black"
              href={item.path}
            > {t('port.button')}
            </Link>
        </div>
      </a>
    </div>
  ))}
</div>

